<div *ngIf="percentage | async as percent">
  <progress [value]="percent" max="100"></progress> 
  {{percent | number}}%
</div>

<div *ngIf="snapshot | async as snap">
  {{ snap.bytesTransferred }} of {{ snap.totalBytes }}

  <div *ngIf="downloadURL as url">
    <p>Results:</p>
    <img class="progress__image" [src]="url" alt="">
    <a [href]="url" rel="noopener" target="_blank">download</a>
  </div>

  <button 
    mat-raised-button
    color="accent" 
    (click)="task.pause()" 
    [disabled]="!isActive(snap)">
    Pause
  </button>
  <button 
    mat-raised-button
    (click)="task.cancel()" 
    [disabled]="!isActive(snap)">
    Cancel
  </button>
  <button 
    mat-raised-button
    (click)="task.resume()" 
    [disabled]="!(snap?.state === 'paused')">
    <mat-icon mat-list-icon class="icon material-icons">play_circle_filled</mat-icon>
  </button>
</div>